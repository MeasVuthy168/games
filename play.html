<!doctype html>
<html lang="km">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=1,user-scalable=no" />
  <title>á¢á»á€á…ááŸ’ášá„áŸ’á‚ (Khmer Chess)</title>

  <!-- Font -->
  <link rel="preload" as="font" href="assets/fonts/Krasar-Regular.ttf" type="font/ttf">
  
  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest" />
  <meta name="theme-color" content="#0d2d5c" />
  <meta name="screen-orientation" content="portrait">
  <meta name="x5-orientation" content="portrait">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" href="assets/icons/icon-192.png" />
  <script src="js/pwa.js" defer></script>

  <!-- Preload board textures for faster first paint -->
  <link rel="preload" as="image" href="assets/board/wood_light.jpg">
  <link rel="preload" as="image" href="assets/board/wood_dark.jpg">

  <!-- Set board texture variables (styles.css will use these) -->
  <style>
    :root{
      --board-light-img: url("assets/board/wood_light.jpg");
      --board-dark-img:  url("assets/board/wood_dark.jpg");
    }
  </style>

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app" class="app">
  
    <main class="layout layout-single">
      <section class="panel board-panel">

        <!-- Top clock -->
        <div class="timers">
          <div class="player-row top">
            <div class="player-name">ááŸ’á˜áŸ… (Black)</div>
            <div class="clock" id="clockB">10:00.0</div>
          </div>
        </div>

        <!-- Board (3D wood look via CSS variables) -->
        <div id="board" class="board board-wood" aria-label="Khmer Chess Board"></div>

        <!-- Bottom clock -->
        <div class="timers">
          <div class="player-row bottom">
            <div class="player-name">áŸ (White)</div>
            <div class="clock" id="clockW">10:00.0</div>
          </div>
        </div>

        <!-- Controls row -->
        <div class="controls">
          <button id="btnReset" class="primary">â™» á…á¶á”áŸ‹á•áŸ’áŠá¾á˜ááŸ’á˜á¸</button>
          <button id="btnPause" class="secondary" title="Pause/Resume">â¸ï¸</button>
          <button id="btnUndo" class="secondary">â†© áá™á€áŸ’ášáŸ„á™</button>
          <span class="turn" id="turnLabel">áœáŸá“áá¶á„ (áŸ)</span>
        </div>

        <!-- Chat (coming soon) -->
        <section class="panel card chat-panel card-full">
          <div class="card-left">
            <div class="card-title">áŸá“áŸ’á‘á“á¶ (Chat)</div>
            <div class="card-sub">coming soon</div>
          </div>
        </section>

      </section>
    </main>

    <!-- Fixed bottom nav -->
    <nav class="home-nav">
      <a class="nav-item" href="index.html"><span class="ni">ğŸ </span><span>Home</span></a>
      <a class="nav-item" href="friends.html"><span class="ni">ğŸ‘¥</span><span>Friend</span></a>
      <a class="nav-item active" href="play.html" aria-current="page"><span class="ni">ğŸ®</span><span>Play</span></a>
      <a class="nav-item" href="settings.html"><span class="ni">âš™ï¸</span><span>Setting</span></a>
      <a class="nav-item" href="notifications.html"><span class="ni">ğŸ””</span><span>Notification</span></a>
    </nav>
  </div>

  <!-- Portrait-only overlay (your CSS already included this class) -->
  <div class="orientation-blocker" id="orientationBlock" aria-hidden="true">
    <div class="ob-card">
      áŸá¼á˜á”áŸ’ášá¾á‘á˜áŸ’ášá„áŸ‹á”á‰áŸ’áˆáš<br/>
      <small>Rotate back to portrait to continue</small>
    </div>
  </div>

  <!-- JavaScript -->
  <script type="module" src="./js/main.js"></script>
</body>
</html>
