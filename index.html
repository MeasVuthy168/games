<!doctype html>
<html lang="km">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>á¢á»á€á…ááŸ’ášá„áŸ’á‚ (Khmer Chess)</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Top bar -->
  <header class="topbar">
    <button class="icon-btn" id="btnBack" title="Back">â†</button>
    <h1>á¢á»á€á…ááŸ’ášá„áŸ’á‚ (Khmer Chess)</h1>
    <div class="spacer"></div>
    <button class="icon-btn" id="btnSettings" title="Settings">âš™ï¸</button>
    <button class="icon-btn" id="btnPause" title="Pause/Resume">â¸ï¸</button>
  </header>

  <main class="layout">
    <section class="panel board-panel">

      <!-- Top player timer (Black) -->
      <div class="timers">
        <div class="player-row top">
          <div class="player-name">ááŸ’á˜áŸ… (Black)</div>
          <div class="clock" id="clockB">10:00.0</div>
        </div>
      </div>

      <div id="board" class="board" aria-label="Khmer Chess Board"></div>

      <!-- Bottom player timer (White) -->
      <div class="timers">
        <div class="player-row bottom">
          <div class="player-name">áŸ (White)</div>
          <div class="clock" id="clockW">10:00.0</div>
        </div>
      </div>

      <div class="controls">
        <button id="btnReset" class="primary">â™» á…á¶á”áŸ‹á•áŸ’áŠá¾á˜ááŸ’á˜á¸</button>
        <button id="btnUndo" class="secondary">â†© áá™á€áŸ’ášáŸ„á™</button>
        <span class="turn" id="turnLabel">White to move</span>
      </div>
    </section>

    <aside class="panel side-panel">
      <h2>á”áŸ’ášáœááŸ’áá·á€á¶ášá’áŸ’áœá¾á…á›á“á¶</h2>
      <ol id="moveList" class="moves"></ol>

      <h2>á‡á˜áŸ’ášá¾áŸá”á„áŸ’á á¶á‰</h2>
      <label class="opt">
        <input type="checkbox" id="optShowHints" checked />
        á”á„áŸ’á á¶á‰á‘á¸áá¶áŸ†á„á¢á¶á…áŠá¶á€áŸ‹
      </label>
      <label class="opt">
        <input type="checkbox" id="optSound" />
        á”á¾á€áŸá˜áŸ’á›áŸá„
      </label>

      <div class="note">
        <strong>áŸá˜áŸ’á‚á¶á›áŸ‹áŸ–</strong> Timers, sounds, and settings can be configured from the âš™ï¸ button.
      </div>
    </aside>
  </main>

  <!-- Settings Modal -->
  <div class="modal" id="settingsModal" aria-hidden="true">
    <div class="modal-backdrop" data-close></div>
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
      <header class="modal-header">
        <h3 id="settingsTitle">á€á¶ášá€áŸ†áááŸ‹ (Settings)</h3>
        <button class="icon-btn" data-close>âœ–</button>
      </header>
      <div class="modal-body">
        <div class="form-row">
          <label>Initial time (minutes per side)</label>
          <input type="number" id="setMinutes" min="1" max="180" step="1" value="10" />
        </div>
        <div class="form-row">
          <label>Increment (seconds added after each move)</label>
          <input type="number" id="setIncrement" min="0" max="60" step="1" value="5" />
        </div>
        <div class="form-row inline">
          <label class="chk">
            <input type="checkbox" id="setSound" checked />
            Enable sounds
          </label>
        </div>
        <div class="row-actions">
          <button id="btnTestSound" class="secondary">ğŸ”Š Test sound</button>
          <button id="btnDefaults" class="secondary">â†º Defaults</button>
          <div class="spacer"></div>
          <button id="btnApply" class="primary">âœ… Save & Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bottom bar -->
  <footer class="bottombar">
    <span>Â© áŸ¢áŸ áŸ¢áŸ¥ â€” Khmer Chess (á¢á»á€á…ááŸ’ášá„áŸ’á‚)</span>
    <a class="home-link" href="#" id="btnHome">ğŸ  Home</a>
  </footer>

  <script type="module">
    import { initUI } from './js/ui.js';
    initUI();
  </script>
</body>
</html>
